var everywhereModalTemplate;$.postJSON=function(e,n,o){return $.post(e,n,o,"json")},$.deleteJSON=function(e,n){return $.ajax({type:"DELETE",url:e,success:n,dataType:"json"})},$.putJSON=function(e,n,o){return $.ajax({type:"PUT",url:e,data:n,success:o,dataType:"json"})},$.helpers={constants:{emailRegex:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},function(e){e.fn.enterListener=function(n){return e(this).on("keyup",function(e){13===e.keyCode&&n&&n(e)})}}(jQuery),$(function(){everywhereModalTemplate=$("#EverywhereModalTemplate").remove().html(),$.getJSON("/api/account/",function(e){e&&!0===e.IsLoggedIn?$(".account-area").html('<span>Welcome back </span><a class="text-console-secondary" href="/account/">'+e.Username+"</a>"):$(".account-area").html('<span>Welcome. </span><a class="text-console-secondary" href="/account/login">Log in</a>')})}),$.toast={__showToast:function(e,n,o,a){o=o||350;var t=$('<div class="toast bg-'+n+'" style="-webkit-transition: all '+o+"ms ease-out; transition: all "+o+'ms ease-out;">'+e+"</div>");$("body").append(t),t.css("width"),t.addClass("display");function s(){t.removeClass("display"),setTimeout(function(){t.remove()},o)}return t.data("timeout",setTimeout(function(){s()},a||3e3)),t.on("click",function(){clearTimeout(t.data("timeout")),s()}),t},success:function(e,n,o){return this.__showToast(e,"success",n,o)},danger:function(e,n,o){return this.__showToast(e,"danger",n,o)},warning:function(e,n,o){return this.__showToast(e,"warning",n,o)},info:function(e,n,o){return this.__showToast(e,"info",n,o)}},$.modal={baseOptions:{title:"",body:"",shownCallback:function(e,n){},showCallback:function(e,n){},hiddenCallback:function(e,n){},enableBackdropClick:!0,enableEscapeKey:!0,size:"",showImmediately:!0},confirmOptions:{title:"Confirm?",body:"Are you sure?",confirmText:"Confirm",confirmIcon:"fas fa-check",cancelText:"Cancel",cancelIcon:"fas fa-times",dismissOnConfirm:!0,confirmCallback:function(e,n){},cancelCallback:function(e,n){},confirmBSColor:"info",confirmClass:"",cancelBSColor:"secondary",cancelClass:""},confirm:function(e){var n=$.extend($.extend($.extend({},this.baseOptions),this.confirmOptions),e),o=$(everywhereModalTemplate);n.size&&o.find(".modal-dialog").addClass("modal-"+n.size),o.find(".modal-header .modal-title").text(n.title),o.find(".modal-body").html(n.body);var a=$('<button type="button" class="everywhere-confirm btn w-50 m-0 rounded-0">Confirm</button>');!0===n.dismissOnConfirm&&a.attr("data-dismiss","modal"),a.html('<i class="'+n.confirmIcon+'"></i> '+n.confirmText).addClass("btn-"+n.confirmBSColor+" "+n.confirmClass),a.on("click.everywhere.modal.confirm",function(e){n.confirmCallback(o,e)});var t=$('<button type="button" class="everywhere-cancel btn w-50 m-0 rounded-0" data-dismiss="modal">Close</button>');return t.html('<i class="'+n.cancelIcon+'"></i> '+n.cancelText).addClass("btn-"+n.cancelBSColor+" "+n.cancelClass),t.on("click.everywhere.modal.cancel",function(e){n.cancelCallback(o,e)}),o.find(".modal-footer").append(t),o.find(".modal-footer").append(a),o.on("show.bs.modal",function(e){n.showCallback(o,e)}),o.on("shown.bs.modal",function(e){n.shownCallback(o,e)}),o.on("hidden.bs.modal",function(e){n.hiddenCallback(o,e),o.remove().modal("dispose")}),o.confirmButton=a,o.cancelButton=t,o.disable=function(){o.find(".everywhere-confirm, .everywhere-cancel, button.close").prop("disabled",!0)},o.enable=function(){o.find(".everywhere-confirm, .everywhere-cancel, button.close").prop("disabled",!1)},o.modal({keyboard:n.enableEscapeKey,backdrop:n.enableBackdropClick||"static",show:n.showImmediately})},alertOptions:{title:"",body:"",enableBackdropClick:!1,enableEscapeKey:!1,size:"sm"},alert:function(e){"string"==typeof e&&(e={body:e});var n=$.extend($.extend($.extend({},this.baseOptions),this.alertOptions),e),o=$(everywhereModalTemplate);n.size&&o.find(".modal-dialog").addClass("modal-"+n.size),n.title?o.find(".modal-header .modal-title").text(n.title):o.find(".modal-header").remove(),o.find(".modal-body").html(n.body);var a=$('<button type="button" class="everywhere-cancel btn btn-secondary w-100 m-0 rounded-0" data-dismiss="modal">Close</button>');return o.find(".modal-footer").append(a),o.on("show.bs.modal",function(e){n.showCallback(o,e)}),o.on("shown.bs.modal",function(e){n.shownCallback(o,e)}),o.on("hidden.bs.modal",function(e){n.hiddenCallback(o,e),o.remove().modal("dispose")}),o.modal({keyboard:n.enableEscapeKey,backdrop:n.enableBackdropClick||"static",show:n.showImmediately})}};